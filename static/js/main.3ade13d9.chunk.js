(this["webpackJsonpreact-quiz-app"]=this["webpackJsonpreact-quiz-app"]||[]).push([[0],{44:function(e,t,n){},55:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var o=n(1),a=n.n(o),r=n(16),c=n.n(r),i=(n(44),n(20)),s=n(2),l=n(3),u=n(7),j=n(21),d=n(22),p={USER_ROLE:"userType",USER_ANSWER:"userAnswer",QUESTION_LIST:"questionList",USER_SCORE:"userScore",USERS:[{userType:"Admin",userName:"Admin",password:"123123"},{userType:"User",userName:"User",password:"123456"}]},O=window.localStorage,b=function(){function e(){Object(j.a)(this,e)}return Object(d.a)(e,null,[{key:"isLoggedIn",value:function(){var e=O.getItem(p.USER_ROLE);return null!==e&&!(!e||""===e)}},{key:"doLogout",value:function(){O.removeItem(p.USER_ROLE),window.location.reload(!0)}}]),e}(),h=n(0),x=["component"],m=["component"],f=function(e){var t=e.component,n=Object(l.a)(e,x),o=b.isLoggedIn();return Object(h.jsx)(u.b,Object(s.a)(Object(s.a)({},n),{},{render:function(e){return o?Object(h.jsx)(t,Object(s.a)({},e)):Object(h.jsx)(u.a,{to:{pathname:"/login"}})}}))},S=function(e){var t=e.component,n=Object(l.a)(e,m),o=b.isLoggedIn();return Object(h.jsx)(u.b,Object(s.a)(Object(s.a)({},n),{},{render:function(e){return o?Object(h.jsx)(u.a,{to:{pathname:"/"}}):Object(h.jsx)(t,Object(s.a)({},e))}}))},g=n(10),T=n(6),N=n(59),v=n(60),w=n(34),y=n(62),C=n(64),E=function(){var e=Object(o.useState)({userName:"",password:"",isError:!1}),t=Object(T.a)(e,2),n=t[0],a=t[1],r=function(e){var t;a(Object(s.a)(Object(s.a)({},n),{},(t={},Object(g.a)(t,e.target.name,e.target.value),Object(g.a)(t,"isError",!1),t)))};return Object(h.jsxs)(N.a,{children:[Object(h.jsx)(v.a,{className:"justify-content-center",children:Object(h.jsxs)(w.a,{md:6,className:"mt-4 text-align-left",children:[n.isError?Object(h.jsx)("p",{className:"alert alert-danger",children:"Invalid login credentials"}):null,Object(h.jsxs)(y.a,{onSubmit:function(e){e.preventDefault();var t=p.USERS.filter((function(e){return e.userName===n.userName}));t.length>0&&(t[0].password===n.password?(delete t[0].password,window.localStorage.setItem(p.USER_ROLE,JSON.stringify(t[0])),window.location.reload(!0)):a(Object(s.a)(Object(s.a)({},n),{},{isError:!0})))},children:[Object(h.jsx)(y.a.Label,{className:"header-text",children:"Login"}),Object(h.jsxs)(y.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(h.jsx)(y.a.Label,{children:"User Name"}),Object(h.jsx)(y.a.Control,{name:"userName",onChange:r,type:"text",placeholder:"Enter user name",list:"userNameList"})]}),Object(h.jsxs)(y.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(h.jsx)(y.a.Label,{children:"Password"}),Object(h.jsx)(y.a.Control,{name:"password",onChange:r,type:"password",placeholder:"Password"})]}),Object(h.jsx)("div",{className:"d-flex justify-content-center m-4",children:Object(h.jsx)(C.a,{variant:"primary",type:"submit",children:"Login"})})]})]})}),Object(h.jsxs)("datalist",{id:"userNameList",children:[Object(h.jsx)("option",{value:p.USERS[0].userName}),Object(h.jsx)("option",{value:p.USERS[1].userName})]})]})},I=n(35),q=n(27),k=n(13),L=n.n(k),R=n(17),U=n(63),_=n(61),J=function(e){var t=Object(o.useState)({question:"",optionOne:"",optionTwo:"",optionThree:""}),n=Object(T.a)(t,2),a=n[0],r=n[1],c=Object(o.useState)({optionOne:!1,optionTwo:!1,optionThree:!1}),i=Object(T.a)(c,2),l=i[0],u=i[1];Object(o.useEffect)((function(){e.payload&&(r({question:e.payload.questionText,optionOne:e.payload.options[0].text,optionTwo:e.payload.options[1].text,optionThree:e.payload.options[2].text}),u({optionOne:e.payload.options[0].isCorrect,optionTwo:e.payload.options[1].isCorrect,optionThree:e.payload.options[2].isCorrect}))}),[]);var j=function(){var t=Object(R.a)(L.a.mark((function t(n){var o,r,c,i;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d(a.question)&&d(a.optionOne)&&d(a.optionTwo)&&d(a.optionThree)&&(l.optionOne||l.optionTwo||l.optionThree)){for(n.preventDefault(),o=window.localStorage.getItem(p.QUESTION_LIST),console.log("\ud83d\ude80 ~ file: QuestionEditModal.js ~ line 62 ~ EditQuestion ~ questionList",o),Date.now(),r={id:e.payload.id,questionText:a.question,options:[{text:a.optionOne,isCorrect:l.optionOne},{text:a.optionTwo,isCorrect:l.optionTwo},{text:a.optionThree,isCorrect:l.optionThree}]},c=JSON.parse(o),i=0;i<c.length;i++)c[i].id===e.payload.id&&c.splice(i,1);c.push(r),localStorage.setItem(p.QUESTION_LIST,JSON.stringify(c)),alert("The question updated successfully.")||window.location.reload(!0)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function d(e){return""!==e&&null!==e&&void 0!==e}return Object(h.jsxs)(_.a,{show:e.isShow,onHide:e.onClick,backdrop:"static",keyboard:!1,children:[Object(h.jsx)(_.a.Header,{closeButton:!0,children:Object(h.jsx)(_.a.Title,{children:"Edit Question"})}),Object(h.jsx)(_.a.Body,{children:Object(h.jsxs)(y.a,{method:"post",children:[Object(h.jsx)(v.a,{children:Object(h.jsxs)(w.a,{children:[Object(h.jsx)(y.a.Label,{htmlFor:"inlineFormInput",children:"Input your question"}),Object(h.jsx)(y.a.Control,{className:"mb-2",id:"inlineFormInput",placeholder:"Ex: What is react?",value:a.question||"",required:!0,onChange:function(e){return r(Object(s.a)(Object(s.a)({},a),{},{question:e.target.value}))}})]})}),Object(h.jsx)("br",{}),Object(h.jsxs)(v.a,{className:"align-items-center",children:[Object(h.jsx)(w.a,{xs:"auto",children:Object(h.jsx)(y.a.Control,{className:"mb-2",id:"inlineFormInput",placeholder:"Option one",value:a.optionOne||"",required:!0,onChange:function(e){return r(Object(s.a)(Object(s.a)({},a),{},{optionOne:e.target.value}))}})}),Object(h.jsx)(w.a,{xs:"auto",children:Object(h.jsx)(y.a.Check,{type:"radio",id:"autoSizingCheck",className:"mb-2",label:"Answer",name:"option",checked:l.optionOne,onChange:function(){return u({optionOne:!0,optionTwo:!1,optionThree:!1})},required:!0})})]}),Object(h.jsxs)(v.a,{className:"align-items-center",children:[Object(h.jsx)(w.a,{xs:"auto",children:Object(h.jsx)(y.a.Control,{className:"mb-2",id:"inlineFormInput",placeholder:"Option two",value:a.optionTwo||"",onChange:function(e){return r(Object(s.a)(Object(s.a)({},a),{},{optionTwo:e.target.value}))},required:!0})}),Object(h.jsx)(w.a,{xs:"auto",children:Object(h.jsx)(y.a.Check,{type:"radio",id:"autoSizingCheck",className:"mb-2",label:"Answer",name:"option",checked:l.optionTwo,onChange:function(){return u({optionOne:!1,optionTwo:!0,optionThree:!1})},required:!0})})]}),Object(h.jsxs)(v.a,{className:"align-items-center",children:[Object(h.jsx)(w.a,{xs:"auto",children:Object(h.jsx)(y.a.Control,{className:"mb-2",id:"inlineFormInput",placeholder:"Option three",value:a.optionThree||"",onChange:function(e){return r(Object(s.a)(Object(s.a)({},a),{},{optionThree:e.target.value}))},required:!0})}),Object(h.jsx)(w.a,{xs:"auto",children:Object(h.jsx)(y.a.Check,{type:"radio",id:"autoSizingCheck",className:"mb-2",label:"Answer",name:"option",required:!0,checked:l.optionThree,onChange:function(){return u({optionOne:!1,optionTwo:!1,optionThree:!0})}})})]}),Object(h.jsxs)(_.a.Footer,{className:"justify-content-center",children:[Object(h.jsx)(C.a,{variant:"secondary",onClick:e.onClick,children:"Cancel"}),Object(h.jsx)(C.a,{variant:"primary",onClick:j,children:"Submit"})]})]})})]})},A=function(){var e=JSON.parse(localStorage.getItem(p.USER_ROLE)),t=e.userType===p.USERS[0].userType?null:localStorage.getItem(p.USER_ANSWER),n=localStorage.getItem(p.QUESTION_LIST),a=[{id:1629517146766,questionText:"What does HTML stand for?",options:[{text:"Hyperlinks and Text Markup Language1",isCorrect:!1},{text:" Home Tool Markup Language",isCorrect:!1},{text:" Hyper Text Markup Language",isCorrect:!0}]},{id:1629517158929,questionText:"Who is making the Web standards?",options:[{text:"Google",isCorrect:!1},{text:"The World Wide Web Consortium",isCorrect:!0},{text:"Facebook",isCorrect:!1}]},{id:1629517194817,questionText:"Choose the correct HTML element for the largest heading:",options:[{text:"<heading>",isCorrect:!1},{text:"<h5>",isCorrect:!1},{text:"<h1>",isCorrect:!0}]}],r=Object(o.useState)([]),c=Object(T.a)(r,2),i=c[0],s=c[1],l=Object(o.useState)([]),u=Object(T.a)(l,2),j=u[0],d=u[1],O=Object(o.useState)(0),b=Object(T.a)(O,2),x=b[0],m=b[1],f=Object(o.useState)(!1),S=Object(T.a)(f,2),g=S[0],y=S[1],E=Object(o.useState)(!1),k=Object(T.a)(E,2),_=k[0],A=k[1],F=Object(o.useState)(),Q=Object(T.a)(F,2),W=Q[0],z=Q[1];Object(o.useEffect)(Object(R.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n?s(JSON.parse(n)):(window.localStorage.setItem(p.QUESTION_LIST,JSON.stringify(a)),s(a)),t&&d(JSON.parse(t));case 2:case"end":return e.stop()}}),e)}))),[]);var B=function(){var e=Object(R.a)(L.a.mark((function e(t,n){var o,a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o={id:t,answer:n},a=0;a<j.length;a++)j[a].id===t&&j.splice(a,1);n.isCorrect&&m(x+1),d((function(e){return[].concat(Object(q.a)(e),[o])}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(h.jsxs)(N.a,{className:"justify-content-left",children:[Object(h.jsx)(v.a,{children:g?Object(h.jsx)("div",{className:"d-flex justify-content-center mt-4",children:Object(h.jsx)(U.a,{className:"text-center",style:{width:"20rem"},children:Object(h.jsxs)(U.a.Body,{children:[Object(h.jsx)(U.a.Title,{children:"Your Scores"}),Object(h.jsxs)(U.a.Text,{children:[x," out of ",i.length]}),Object(h.jsx)(C.a,{variant:"primary",type:"submit",onClick:function(){return y(!1)},children:"Edit answers"})]})})}):Object(h.jsx)(w.a,{children:i.length>0?Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),i.filter((function(e){return!j.some((function(t){return e.id===t.id}))}));var t,n=0,o=Object(I.a)(j);try{for(o.s();!(t=o.n()).done;){t.value.answer.isCorrect&&(n+=1)}}catch(a){o.e(a)}finally{o.f()}m(n),y(!0),localStorage.setItem(p.USER_ANSWER,JSON.stringify(j)),localStorage.setItem(p.USER_SCORE,x)},children:[e.userType===p.USERS[1].userType?Object(h.jsx)("p",{className:"text-center m-4",children:"Please choose all the questions and submit. You can see your score. If you want to change your selected answer, you need to select the answer and submit."}):null,i.sort((function(e,t){return t.id-e.id})).map((function(n,o){var a=t&&JSON.parse(t),r=void 0;return a&&(r=a.find((function(e){return e.id===n.id}))),Object(h.jsxs)("div",{className:"card m-2 p-4",children:[Object(h.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(h.jsx)("h2",{children:n.questionText}),e.userType===p.USERS[0].userType?Object(h.jsxs)("div",{className:"button-wrapper",children:[Object(h.jsx)(C.a,{variant:"info",type:"button",onClick:function(){return z(n),void A(!0)},children:"Edit"}),Object(h.jsx)(C.a,{variant:"danger",type:"button",onClick:function(){return function(e){for(var t=0;t<i.length;t++)i[t].id===e&&(alert("Are you sure that you want to delete this question?")||(i.splice(t,1),localStorage.setItem(p.QUESTION_LIST,JSON.stringify(i)),window.location.reload(!0)))}(n.id)},children:"Delete"})]}):null]}),n.options.map((function(e,t){return Object(h.jsxs)("div",{className:"question-option",children:[Object(h.jsx)("input",{type:"radio",id:n.questionText,name:n.questionText,value:"".concat(e.text),onClick:function(){return B(n.id,e)},required:!0,defaultChecked:r&&e.text===r.answer.text})," ",e.text]},t)}))]},o)})),Object(h.jsx)("div",{className:"d-flex justify-content-center m-4",children:e.userType===p.USERS[1].userType?Object(h.jsx)(C.a,{variant:"primary",type:"submit",children:"Submit"}):null})]}):Object(h.jsx)("h4",{className:"text-center mt-4",children:"No question found."})})}),W?Object(h.jsx)(J,{payload:W,onClick:function(e){A(!_)},isShow:_}):null]})},F=function(){var e=JSON.parse(localStorage.getItem(p.USER_ROLE)),t=e.userType===p.USERS[0].userType;return Object(h.jsxs)("ul",{className:"nav justify-content-center",children:[t?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(i.b,{className:"nav-link active",to:"/add-question",children:"Add Question"})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(i.b,{className:"nav-link",to:"/answer",children:"Answer"})})]}):null,Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(i.b,{className:"nav-link",to:"/",children:t?"Questions":"Quiz"})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsxs)(C.a,{variant:"light",children:["Hi ",e.userName]})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(C.a,{variant:"light",onClick:function(){return b.doLogout()},children:"Logout"})})]})},Q=function(){return Object(h.jsxs)(N.a,{className:"justify-content-center",children:[Object(h.jsx)(F,{}),Object(h.jsx)(A,{})]})},W=function(){return Object(h.jsx)("div",{className:"d-flex justify-content-center mt-4",children:Object(h.jsx)(U.a,{className:"text-center",style:{width:"20rem"},children:Object(h.jsxs)(U.a.Body,{children:[Object(h.jsx)(U.a.Title,{children:"Access denied"}),Object(h.jsx)(U.a.Text,{children:"You don't have a permission to access this page."})]})})})},z=function(){var e=JSON.parse(localStorage.getItem(p.USER_ROLE)),t={question:"",optionOne:"",optionTwo:"",optionThree:""},n=Object(o.useState)(t),a=Object(T.a)(n,2),r=a[0],c=a[1],i=Object(o.useState)({optionOne:!1,optionTwo:!1,optionThree:!1}),l=Object(T.a)(i,2),u=l[0],j=l[1],d=function(){var e=Object(R.a)(L.a.mark((function e(n){var o,a,i,s;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(r.question)&&O(r.optionOne)&&O(r.optionTwo)&&O(r.optionThree)&&(u.optionOne||u.optionTwo||u.optionThree)&&(n.preventDefault(),o=window.localStorage.getItem(p.QUESTION_LIST),a=Date.now(),i={id:a,questionText:r.question,options:[{text:r.optionOne,isCorrect:u.optionOne},{text:r.optionTwo,isCorrect:u.optionTwo},{text:r.optionThree,isCorrect:u.optionThree}]},(s=JSON.parse(o)).push(i),localStorage.setItem(p.QUESTION_LIST,JSON.stringify(s)),c(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function O(e){return""!==e&&null!==e&&void 0!==e}return Object(h.jsxs)(N.a,{children:[Object(h.jsx)(F,{}),Object(h.jsx)("div",{className:"text-center m-3, pt-4 pb-4",children:Object(h.jsx)("h5",{children:"You can add a question for users by submit the below form."})}),Object(h.jsx)(v.a,{className:"justify-content-center",children:e.userType===p.USERS[0].userType?Object(h.jsx)(w.a,{md:6,children:Object(h.jsxs)(y.a,{method:"post",children:[Object(h.jsx)(v.a,{children:Object(h.jsxs)(w.a,{children:[Object(h.jsx)(y.a.Label,{htmlFor:"inlineFormInput",children:"Input your question"}),Object(h.jsx)(y.a.Control,{className:"mb-2",id:"inlineFormInput",placeholder:"Ex: What is react?",value:r.question||"",required:!0,onChange:function(e){return c({question:e.target.value})}})]})}),Object(h.jsx)("br",{}),Object(h.jsxs)(v.a,{className:"align-items-center",children:[Object(h.jsx)(w.a,{xs:"auto",children:Object(h.jsx)(y.a.Control,{className:"mb-2",id:"inlineFormInput",placeholder:"Option one",value:r.optionOne||"",required:!0,onChange:function(e){return c(Object(s.a)(Object(s.a)({},r),{},{optionOne:e.target.value}))}})}),Object(h.jsx)(w.a,{xs:"auto",children:Object(h.jsx)(y.a.Check,{type:"radio",id:"autoSizingCheck",className:"mb-2",label:"Answer",name:"option",onChange:function(){return j({optionOne:!0,optionTwo:!1,optionThree:!1})},required:!0})})]}),Object(h.jsxs)(v.a,{className:"align-items-center",children:[Object(h.jsx)(w.a,{xs:"auto",children:Object(h.jsx)(y.a.Control,{className:"mb-2",id:"inlineFormInput",placeholder:"Option two",value:r.optionTwo||"",onChange:function(e){return c(Object(s.a)(Object(s.a)({},r),{},{optionTwo:e.target.value}))},required:!0})}),Object(h.jsx)(w.a,{xs:"auto",children:Object(h.jsx)(y.a.Check,{type:"radio",id:"autoSizingCheck",className:"mb-2",label:"Answer",name:"option",onChange:function(){return j({optionOne:!1,optionTwo:!0,optionThree:!1})},required:!0})})]}),Object(h.jsxs)(v.a,{className:"align-items-center",children:[Object(h.jsx)(w.a,{xs:"auto",children:Object(h.jsx)(y.a.Control,{className:"mb-2",id:"inlineFormInput",placeholder:"Option three",value:r.optionThree||"",onChange:function(e){return c(Object(s.a)(Object(s.a)({},r),{},{optionThree:e.target.value}))},required:!0})}),Object(h.jsx)(w.a,{xs:"auto",children:Object(h.jsx)(y.a.Check,{type:"radio",id:"autoSizingCheck",className:"mb-2",label:"Answer",name:"option",onChange:function(){return j({optionOne:!1,optionTwo:!1,optionThree:!0})},required:!0})})]}),Object(h.jsx)("div",{className:"d-flex justify-content-center m-4",children:Object(h.jsx)(C.a,{onClick:d,variant:"primary",type:"submit",children:"Add"})})]})}):Object(h.jsx)(W,{})})]})},B=function(){var e=JSON.parse(localStorage.getItem(p.USER_ROLE)),t=localStorage.getItem(p.USER_ANSWER),n=localStorage.getItem(p.QUESTION_LIST),a=Object(o.useState)([]),r=Object(T.a)(a,2),c=r[0],i=r[1],s=Object(o.useState)([]),l=Object(T.a)(s,2),u=l[0],j=l[1];return Object(o.useEffect)(Object(R.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n&&i(JSON.parse(n)),t&&j(JSON.parse(t));case 2:case"end":return e.stop()}}),e)}))),[]),Object(h.jsxs)(N.a,{className:"justify-content-left",children:[Object(h.jsx)(F,{}),Object(h.jsx)(v.a,{children:e.userType===p.USERS[0].userType?Object(h.jsx)(w.a,{children:c.length>0&&u.length>0?Object(h.jsx)("form",{children:c.sort((function(e,t){return t.id-e.id})).map((function(e,n){var o=t&&JSON.parse(t),a=void 0;return o&&(a=o.find((function(t){return t.id===e.id}))),Object(h.jsxs)("div",{className:"card m-2 p-4",children:[Object(h.jsx)("div",{className:"d-flex justify-content-between",children:Object(h.jsx)("h2",{children:e.questionText})}),e.options.map((function(t,n){return Object(h.jsxs)("div",{className:"question-option",children:[Object(h.jsx)("input",{type:"radio",id:e.questionText,name:e.questionText,value:"".concat(t.text),disabled:!0,required:!0,defaultChecked:a&&t.text===a.answer.text})," ",t.text]},n)}))]},n)}))}):Object(h.jsx)("h4",{className:"text-center mt-4",children:"No answers found."})}):Object(h.jsx)(W,{})})]})};n(55),n(56);var D=function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)(i.a,{basename:"react-quiz-app",children:[Object(h.jsx)(S,{exact:!0,path:"/login",component:E}),Object(h.jsx)(f,{exact:!0,path:"/",component:Q}),Object(h.jsx)(f,{exact:!0,path:"/add-question",component:z}),Object(h.jsx)(f,{exact:!0,path:"/answer",component:B})]})})},H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,65)).then((function(t){var n=t.getCLS,o=t.getFID,a=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),o(e),a(e),r(e),c(e)}))};c.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(D,{})}),document.getElementById("root")),H()}},[[57,1,2]]]);
//# sourceMappingURL=main.3ade13d9.chunk.js.map